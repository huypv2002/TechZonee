<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi tiết Sản phẩm - Shop Bán Hàng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">

    <style>
        /* ----- Các style CSS cơ bản (Giữ nguyên) ----- */
        body { background-color: #f8f9fa; }
        .navbar { border-bottom: 3px solid #dc3545; }
        .btn-danger { background-color: #dc3545; border-color: #dc3545; }
        .footer { background-color: #f8f9fa; border-top: 1px solid #dee2e6;}
        .product-price { color: #dc3545; font-size: 1.8rem; font-weight: bold; }
        .original-price { text-decoration: line-through; color: #6c757d; font-size: 1rem; margin-left: 0.5rem;}
        .product-thumbnails img { cursor: pointer; border: 1px solid #ddd; padding: 2px; margin-right: 5px; height: 60px; width: 60px; object-fit: cover; }
        .product-thumbnails img:hover, .product-thumbnails img.active { border-color: #dc3545; }
        .nav-tabs .nav-link.active { color: #dc3545; border-color: #dee2e6 #dee2e6 #fff; border-bottom: 3px solid #dc3545; }
        .nav-tabs .nav-link { color: #495057; }
        .quantity-input { max-width: 60px; text-align: center; }
        .input-group .btn { z-index: 0; }
        .section-title { color: #dc3545; border-bottom: 2px solid #dc3545; padding-bottom: 5px; display: inline-block; margin-bottom: 1.5rem;}
        .navbar .badge { font-size: 0.6em; padding: 0.3em 0.5em; vertical-align: top; margin-left: -5px; display: none; }
        a { color: #dc3545; text-decoration: none; }
        a:hover { color: #a71d2a; }

         /* ----- CSS SỬA LỖI CĂN CHỈNH CARD (Cho Sản phẩm liên quan) ----- */
         .card-product { transition: all 0.2s ease-in-out; border: none; }
         .card-product:hover { box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15); transform: translateY(-5px); }
         .card-product .card-img-top { border-bottom: 1px solid #f1f1f1; }
         .card-product img.card-img-top { height: 220px; object-fit: contain; }
         .card-product .card-body { flex-grow: 1; display: flex; flex-direction: column; }
         .card-product .card-title { min-height: 3rem; display: block; margin-bottom: 0.5rem; }
         .card-product .card-title a { font-size: 0.95rem; font-weight: 500; color: #212529; }
         .card-product .card-title a:hover { color: #dc3545; }
         .card-product .card-text { color: #dc3545; font-weight: bold; font-size: 1.1rem; margin-bottom: 1rem; margin-top: auto; }
         .card-product .card-text .original-price { text-decoration: line-through; color: #6c757d; font-size: 0.85rem; font-weight: normal; margin-left: 0.5rem; }
        /* ----- Kết thúc CSS căn chỉnh card ----- */

    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
         <div class="container"> <a class="navbar-brand text-danger fw-bold" href="index.html"><img src="./images/logo.png" width="128" height="80" alt=""></a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"> <span class="navbar-toggler-icon"></span> </button> <div class="collapse navbar-collapse" id="navbarNav"> <ul class="navbar-nav me-auto mb-2 mb-lg-0"> <li class="nav-item"> <a class="nav-link" href="index.html">Trang chủ</a> </li> <li class="nav-item"> <a class="nav-link active" aria-current="page" href="products.html">Sản phẩm</a> </li> <li class="nav-item"> <a class="nav-link" href="about.html">Giới thiệu</a> </li> <li class="nav-item"> <a class="nav-link" href="order-history.html">Lịch sử mua hàng</a> </li> </ul> <form class="d-flex mx-auto" action="search.html" method="get"> <input class="form-control me-2 form-control-sm" type="search" name="keyword" placeholder="Tìm kiếm sản phẩm..." aria-label="Search"> <button class="btn btn-outline-danger btn-sm" type="submit"><i class="bi bi-search"></i></button> </form> <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center"> <li class="nav-item"> <a class="nav-link" href="cart.html"> <i class="bi bi-cart-fill position-relative fs-5 text-dark"> <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"> 0 <span class="visually-hidden">sản phẩm trong giỏ</span> </span> </i> </a> </li> <li class="nav-item" id="nav-login-register" style="display: flex;"> <a class="btn btn-outline-danger btn-sm me-2" href="login.html">Đăng nhập</a> <a class="btn btn-danger btn-sm" href="register.html">Đăng ký</a> </li> <li class="nav-item dropdown" id="nav-user-account" style="display: none;"> <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="navbarDropdownUser" role="button" data-bs-toggle="dropdown" aria-expanded="false"> <i class="bi bi-person-circle fs-5 text-dark me-1"></i> <span id="nav-username" class="small">Tên User</span> </a> <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownUser"> <li><a class="dropdown-item small" href="#"><i class="bi bi-person-fill me-2"></i>Tài khoản của tôi</a></li> <li><a class="dropdown-item small" href="order-history.html"><i class="bi bi-receipt-cutoff me-2"></i>Lịch sử mua hàng</a></li> <li> <hr class="dropdown-divider"> </li> <li><a class="dropdown-item small" href="#" id="nav-logout"><i class="bi bi-box-arrow-right me-2"></i>Đăng xuất</a></li> </ul> </li> </ul> </div> </div>
    </nav>

    <main class="container py-4" id="product-detail-container"> <div class="row" id="product-content-row">
            <div class="col-md-6">
                <div class="mb-3">
                    <img src="https://via.placeholder.com/600x500/f8f9fa/6c757d?text=Loading..." class="img-fluid rounded border" style="width: 95%;" id="mainProductImage" alt="Loading..."> </div>
                <div class="product-thumbnails d-flex" id="product-thumbnails">
                    </div>
            </div>

            <div class="col-md-6">
                <h1 id="product-name">Đang tải tên sản phẩm...</h1>
                 <div class="d-flex align-items-center mb-2">
                     <span class="text-warning me-1" id="product-rating">
                         </span>
                     <span class="text-muted small" id="product-review-count">(Đang tải đánh giá)</span>
                 </div>
                <p class="text-muted" id="product-short-description">Đang tải mô tả...</p>

                <div class="mb-3" id="product-price-container">
                    <span class="product-price" id="product-price"></span>
                    <span class="original-price" id="product-original-price"></span> <span class="badge bg-danger ms-2" id="product-discount-badge"></span> </div>

                 <div class="row mb-3" id="product-options-container">
                    <div class="col-md-6 mb-2 mb-md-0">
                         <label for="productSize" class="form-label">Kích thước:</label>
                         <select class="form-select form-select-sm" id="productSize" disabled>
                             <option selected value="">--</option>
                         </select>
                    </div>
                     <div class="col-md-6">
                          <label for="productColor" class="form-label">Màu sắc:</label>
                          <select class="form-select form-select-sm" id="productColor" disabled>
                              <option selected value="">--</option>
                          </select>
                     </div>
                 </div>

                <div class="mb-3 row align-items-center">
                    <label for="quantityInput" class="col-auto col-form-label">Số lượng:</label>
                     <div class="col-auto">
                         <div class="input-group input-group-sm" style="width: 120px;">
                             <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(-1)">-</button>
                              <input type="number" class="form-control quantity-input" id="quantityInput" value="1" min="1" aria-label="Quantity">
                              <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(1)">+</button>
                         </div>
                    </div>
                </div>

                <div class="d-grid gap-2">
                     <button class="btn btn-danger btn-lg" type="button" id="detail-add-to-cart-btn" disabled>
                         <i class="bi bi-cart-plus-fill me-2"></i>Thêm vào giỏ hàng
                     </button>
                      <button class="btn btn-outline-danger" type="button"><i class="bi bi-heart me-2"></i>Thêm vào yêu thích</button>
                 </div>
            </div>
        </div> <div class="row mt-5">
            <div class="col-12">
                <ul class="nav nav-tabs mb-3" id="productTab" role="tablist">
                     <li class="nav-item" role="presentation"> <button class="nav-link active" id="description-tab" data-bs-toggle="tab" data-bs-target="#description-content" type="button">Mô tả chi tiết</button> </li>
                     <li class="nav-item" role="presentation"> <button class="nav-link" id="specs-tab" data-bs-toggle="tab" data-bs-target="#specs-content" type="button">Thông số kỹ thuật</button> </li>
                     <li class="nav-item" role="presentation"> <button class="nav-link" id="reviews-tab" data-bs-toggle="tab" data-bs-target="#reviews-content" type="button">Đánh giá</button> </li>
                 </ul>
                <div class="tab-content bg-white p-3 rounded border" id="productTabContent">
                    <div class="tab-pane fade show active" id="description-content" role="tabpanel" aria-labelledby="description-tab">
                         <p>Đang tải mô tả sản phẩm...</p>
                    </div>
                    <div class="tab-pane fade" id="specs-content" role="tabpanel" aria-labelledby="specs-tab">
                         <h6>Thông số kỹ thuật</h6>
                         <table class="table table-striped table-sm">
                             <tbody id="specs-tbody">
                                 <tr><td>Đang tải thông số...</td></tr>
                             </tbody>
                         </table>
                    </div>
                    <div class="tab-pane fade" id="reviews-content" role="tabpanel" aria-labelledby="reviews-tab">
                         <h6>Đánh giá từ khách hàng</h6>
                          <p>Hiện chưa có đánh giá nào cho sản phẩm này.</p>
                     </div>
                </div>
            </div>
        </div>

        <section class="related-products my-5">
            <h2 class="mb-4">Sản phẩm liên quan</h2>
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
                <div class="col">
                    <div class="card h-100 shadow-sm border-0 card-product">
                        <a href="product-detail.html?id=P001">
                            <img src="./images/iphone14.webp" class="card-img-top" alt="iPhone 14 Pro">
                        </a>
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title flex-grow-1"><a href="product-detail.html?id=P001"
                                    class="text-dark text-decoration-none">iPhone 14 Pro 256GB</a></h5>
                            <p class="card-text mt-2">22.500.000₫</p>
                            <button type="button" class="btn btn-danger btn-sm w-100 mt-auto add-to-cart-btn related-add-to-cart-btn"
                                data-product-id="P001" data-product-name="iPhone 14 Pro 256GB"
                                data-product-price="22500000" data-product-img="./images/iphone14.webp">
                                <i class="bi bi-cart-plus-fill"></i> Thêm vào giỏ
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div class="card h-100 shadow-sm border-0 card-product">
                        <a href="product-detail.html?id=P002">
                            <img src="./images/laptop.webp" class="card-img-top" alt="MacBook Air M2">
                        </a>
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title flex-grow-1"><a href="product-detail.html?id=P002"
                                    class="text-dark text-decoration-none">MacBook Air M2 13-inch</a></h5>
                            <p class="card-text mt-2">27.490.000₫</p>
                            <button type="button" class="btn btn-danger btn-sm w-100 mt-auto add-to-cart-btn related-add-to-cart-btn"
                                data-product-id="P002" data-product-name="MacBook Air M2 13-inch"
                                data-product-price="27490000" data-product-img="./images/laptop.webp">
                                <i class="bi bi-cart-plus-fill"></i> Thêm vào giỏ
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div class="card h-100 shadow-sm border-0 card-product">
                        <a href="product-detail.html?id=P009">
                            <img src="https://cdn.tgdd.vn/Products/Images/522/274155/ipad-pro-m2-11-wifi-xam-thumb-600x600.jpg" class="card-img-top" alt="iPad Pro M2">
                        </a>
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title flex-grow-1"><a href="product-detail.html?id=P009"
                                    class="text-dark text-decoration-none">iPad Pro M2 11-inch</a></h5>
                            <p class="card-text mt-2">19.990.000₫</p>
                            <button type="button" class="btn btn-danger btn-sm w-100 mt-auto add-to-cart-btn related-add-to-cart-btn"
                                data-product-id="P009" data-product-name="iPad Pro M2 11-inch"
                                data-product-price="19990000" data-product-img="https://cdn.tgdd.vn/Products/Images/522/274155/ipad-pro-m2-11-wifi-xam-thumb-600x600.jpg">
                                <i class="bi bi-cart-plus-fill"></i> Thêm vào giỏ
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div class="card h-100 shadow-sm border-0 card-product">
                        <a href="product-detail.html?id=P003">
                            <img src="./images/ipod.webp" class="card-img-top" alt="AirPods Pro 2">
                        </a>
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title flex-grow-1"><a href="product-detail.html?id=P003"
                                    class="text-dark text-decoration-none">AirPods Pro 2</a></h5>
                            <p class="card-text mt-2">5.490.000₫</p>
                            <button type="button" class="btn btn-danger btn-sm w-100 mt-auto add-to-cart-btn related-add-to-cart-btn"
                                data-product-id="P003" data-product-name="AirPods Pro 2"
                                data-product-price="5490000" data-product-img="./images/ipod.webp">
                                <i class="bi bi-cart-plus-fill"></i> Thêm vào giỏ
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

         <div id="product-not-found" class="alert alert-danger mt-4" role="alert" style="display: none;">
            Rất tiếc, không tìm thấy thông tin chi tiết cho sản phẩm này. Vui lòng quay lại <a href="products.html" class="alert-link">trang sản phẩm</a>.
        </div>

    </main>

    <footer class="footer mt-auto py-3 bg-light border-top">
         <div class="container"> <div class="row"> <div class="col-md-4 mb-3"> <h5 class="text-danger"> <a class="navbar-brand text-danger fw-bold" href="index.html"><img src="./images/logo.png" width="128" height="80" alt=""></a> </h5> <p class="text-muted small">...</p> </div> <div class="col-md-2 col-6 mb-3"> <h5>Về chúng tôi</h5> <ul class="list-unstyled text-small"> <li><a class="link-secondary text-decoration-none" href="about.html">Giới thiệu</a></li> <li>...</li> </ul> </div> <div class="col-md-3 col-6 mb-3"> <h5>Hỗ trợ khách hàng</h5> <ul class="list-unstyled text-small"> <li><a class="link-secondary text-decoration-none" href="#">Hướng dẫn mua hàng</a></li> <li>...</li> </ul> </div> <div class="col-md-3 mb-3"> <h5>Kết nối với chúng tôi</h5> <a href="#" class="link-secondary text-decoration-none me-2 fs-4"><i class="bi bi-facebook"></i></a> <a href="#" class="link-secondary text-decoration-none me-2 fs-4"><i class="bi bi-youtube"></i></a> <a href="#" class="link-secondary text-decoration-none me-2 fs-4"><i class="bi bi-instagram"></i></a> </div> </div> <hr> <p class="text-center text-muted small mb-0">&copy; 2025 Tên Shop Của Bạn. Đã đăng ký Bản quyền.</p> </div>
     </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/product-detail.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>
</html>